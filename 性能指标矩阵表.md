# 性能测试指标矩阵表




| **测试维度**     | **核心指标**         | **指标定义**                                                     | **单位** | **常规阈值参考**                        | **测量工具 / 方法**                               | **关注场景**             |
| ---------------------- | -------------------------- | ---------------------------------------------------------------------- | -------------- | --------------------------------------------- | ------------------------------------------------------- | ------------------------------ |
| **响应性能**     | 平均响应时间               | 所有请求从发起至接收完整响应的平均耗时                                 | ms（毫秒）     | 核心接口≤500ms，非核心接口≤1000ms           | JMeter、LoadRunner、Gatling                             | 全业务场景（登录、下单、查询） |
|                        | 90% 响应时间（P90）        | 排序后 90% 的请求响应时间≤该值（反映多数用户体验）                    | ms             | 核心接口≤800ms，非核心接口≤1500ms           | 同上                                                    | 高并发场景                     |
|                        | 99% 响应时间（P99）        | 排序后 99% 的请求响应时间≤该值（反映极端用户体验）                    | ms             | 核心接口≤1000ms，非核心接口≤2000ms          | 同上                                                    | 峰值负载场景                   |
|                        | 最大响应时间               | 单请求响应的最长耗时                                                   | ms             | 不超过平均响应时间的 3 倍，且无超时           | 同上                                                    | 异常请求、资源瓶颈场景         |
| **吞吐量**       | 每秒事务数（TPS）          | 单位时间内系统完成的 “完整业务事务” 数（如 1 个下单流程算 1 个事务） | 事务 / 秒      | 按业务需求定义（如电商下单 TPS≥500）         | JMeter（事务控制器）、LoadRunner                        | 核心业务并发场景               |
|                        | 每秒请求数（RPS/QPS）      | 单位时间内系统处理的 HTTP/API 请求总数（单个事务可能包含多个请求）     | 请求 / 秒      | 按接口承载能力定义（如查询接口 QPS≥2000）    | JMeter、Prometheus+Grafana                              | 接口级性能场景                 |
|                        | 数据吞吐量                 | 单位时间内系统传输 / 处理的业务数据总量（如订单数据、文件数据）        | MB/s、GB/h     | 按带宽 / 存储能力定义（如文件上传≥10MB/s）   | iperf、nmon                                             | 文件上传 / 下载、批量数据场景  |
| **资源占用**     | CPU 使用率                 | 服务器 / 容器 CPU 核心的占用百分比（多核心需看平均占用）               | %              | 峰值≤80%（持续占用不超过 5 分钟），平均≤60% | top、htop、Prometheus+node_exporter                     | 全负载场景（尤其计算密集型）   |
|                        | 内存使用率                 | 服务器 / 应用进程占用的物理内存百分比（排除缓存）                      | %              | 峰值≤85%，无持续增长（防内存泄漏）           | free、jstat（Java 应用）、Prometheus                    | 长时间运行、高并发场景         |
|                        | 磁盘 I/O 使用率            | 磁盘读写操作的繁忙程度（IOPS 或吞吐量占比）                            | %              | 峰值≤90%，读写延迟≤20ms                     | iostat、nmon                                            | 数据存储 / 查询、日志写入场景  |
|                        | 网络带宽使用率             | 服务器网卡接收 / 发送流量占总带宽的百分比                              | %              | 峰值≤85%，无丢包 / 重传                      | iftop、iftstat、Prometheus+node_exporter                | 多用户并发、大文件传输场景     |
| **稳定性**       | 事务成功率                 | 成功完成的业务事务数占总事务数的比例                                   | %              | 核心业务≥99.9%，非核心业务≥99%              | JMeter（事务成功率统计）、LoadRunner                    | 全业务场景（尤其批量操作）     |
|                        | 错误率                     | 失败请求 / 事务数占总请求 / 事务数的比例（含超时、5xx/4xx 错误）       | %              | 核心接口≤0.1%，非核心接口≤0.5%              | 同上，结合日志分析（ELK Stack）                         | 高负载、异常请求场景           |
|                        | 服务可用性                 | 系统正常提供服务的时间占总测试时间的比例（排除计划内 downtime）        | %              | ≥99.9%（即每小时故障≤3.6 秒）               | uptime、Prometheus+alertmanager                         | 长时间运行、周期性负载场景     |
|                        | 内存泄漏检测               | 应用运行过程中内存占用是否持续增长（无释放）                           | -              | 24 小时内内存增长≤5%，无 OOM（内存溢出）     | jmap/jhat（Java）、valgrind（C/C++）、Prometheus        | 长时间稳定性场景               |
| **数据库性能**   | 数据库查询耗时             | 数据库执行 SQL 语句的平均 / 峰值耗时                                   | ms             | 简单查询≤100ms，复杂查询≤500ms              | MySQL Slow Query Log、pg_stat_statements（PostgreSQL）  | 数据查询、统计报表场景         |
|                        | 数据库连接数使用率         | 实际使用的数据库连接数占最大连接数的比例                               | %              | 峰值≤80%，避免连接耗尽                       | MySQL（show processlist）、Prometheus+mysql_exporter    | 高并发数据操作场景             |
|                        | 数据库锁等待时间           | 事务等待数据库锁的平均耗时（含表锁、行锁）                             | ms             | ≤100ms，无死锁                               | MySQL（show engine innodb status）、SQL Server Profiler | 数据更新 / 删除、事务场景      |
| **应用层性能**   | JVM 堆内存使用率（Java）   | Java 应用堆内存（Heap）的使用占比（新生代 + 老年代）                   | %              | 峰值≤85%，GC 后回收≥30%                     | jstat、jconsole、Prometheus+jvm_exporter                | Java 应用高负载场景            |
|                        | GC 停顿时间（Java）        | 垃圾回收（GC）过程中应用暂停的时间                                     | ms             | Minor GC≤50ms，Major GC≤200ms               | 同上                                                    | Java 应用长时间运行场景        |
|                        | 接口超时率                 | 超时未响应的接口请求数占总请求数的比例                                 | %              | ≤0.1%，无批量超时                            | JMeter（超时时间配置）、接口监控工具（APM）             | 高并发、网络波动场景           |
| **特殊场景指标** | 并发用户数                 | 同时发起请求的模拟用户数（反映系统并发承载能力）                       | 个             | 按业务峰值定义（如电商双 11 并发≥10000 人）  | JMeter（线程组）、LoadRunner                            | 峰值并发场景                   |
|                        | 直播流加载延迟（直播系统） | 用户点击 “观看直播” 至画面开始播放的耗时                             | s（秒）        | ≤3s，无卡顿                                  | 自定义脚本（模拟播放）、直播监控工具                    | 直播观看场景                   |
|                        | 设备数据上报 TPS（物联网） | 单位时间内物联网设备向平台上报数据的次数                               | 条 / 秒        | 按设备规模定义（如 1000 设备≥1000 条 / 秒）  | MQ 监控（Kafka/Redis）、自定义统计工具                  | 物联网设备并发上报场景         |




### 说明：

1. 阈值参考需结合业务实际调整（如金融交易响应时间要求更严格，非核心后台系统可放宽）；
2. 测量工具需根据技术栈适配（如 Java 应用优先用 JVM 工具，容器化环境优先用 Prometheus+Grafana）；
3. 核心场景需重点关注 “响应性能 + 稳定性” 指标，资源密集型场景需额外关注 “资源占用” 指标。
